<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>LinkUp</title>
  <link rel="stylesheet" href="css/signup_login.css">
</head>
<body>
  <div class="auth-container">
    <div class="auth-box">
      <h1><span class="linkup-text">LinkUp</span></h1>
      <h2>Create Account</h2>
      <p>Forget telegram & whatsapp, use us.</p>
      <form id="signupForm">
        <input type="text" id="signupname" placeholder="Name" name="name" minlength="4" maxlength="15" required>
        <input type="text" id="signupusername" placeholder="Username" name="username" minlength="4" maxlength="10" required pattern="^[a-zA-Z_]+$">
        <div class="password-wrapper">
          <input type="password" id="signuppass" placeholder="Password" name="psw" minlength="9" maxlength="14" required pattern="^(?=.*[a-zA-Z])(?=.*[!@#$%^&*])(?=.*[0-9])[^ ]+$">
          <label>
            <input type="checkbox" id="showPassword" onclick="togglePasswordVisibility('signuppass')">
          </label>
        </div>
        <input type="password" id="signuprpass" placeholder="Repeat password" name="psw-repeat" required>
        <button type="submit" class="submitbtn">Sign Up</button>
        <div class="alt-option">
          <p>Already have an account? <a href="#" onclick="toggleToLogin()">Log In</a></p>
        </div>
      </form>
    </div>
    <div class="auth-box" style="display: none;" id="loginSection">
      <h1><span class="linkup-text">LinkUp</span></h1>
      <h2>Welcome Back</h2>
      <p>Log in to continue your journey.</p>
      <form id="loginForm">
        <input type="text" id="loginusername" placeholder="Username" name="Username" required pattern="^[a-zA-Z_]+$">
        <div class="password-wrapper">
          <input type="password" id="loginpass" placeholder="Password" name="psw" minlength="9" maxlength="14" required pattern="^(?=.*[a-zA-Z])(?=.*[!@#$%^&*])(?=.*[0-9])[^ ]+$">
          <label>
            <input type="checkbox" id="showLoginPassword" onclick="togglePasswordVisibility('loginpass')">
          </label>
        </div>
        <button type="submit" class="submitbtn">Log In</button>
        <div class="alt-option">
          <p>Don't have an account? <a href="#" onclick="toggleToSignup()">Sign Up</a></p>
        </div>
      </form>
    </div>
  </div>
  <script type='module' src="js/get_cookie.js"></script>
  <script type='module' src="js/check_user_logged.js"></script>
  <script src="js/signup_login.js"></script>
  <script type='module'>
    import { getCookie } from './js/get_cookie.js';
    import { check_session } from './js/check_user_logged.js';
    
    async function check_logged() {
      const session_stats = await check_session();
      if (session_stats === 'redirect') {
        window.location.href = "/index.html";
      }
    }
    
    function toggleToLogin() {
      document.getElementById('signupForm').parentElement.style.display = 'none';
      document.getElementById('loginSection').style.display = 'block';
    }
    function toggleToSignup() {
      document.getElementById('loginSection').style.display = 'none';
      document.getElementById('signupForm').parentElement.style.display = 'block';
    }
    function togglePasswordVisibility(id) {
      const input = document.getElementById(id);
      input.type = input.type === "password" ? "text" : "password";
    }
    check_logged()
  </script>
</body>
</html>

          
